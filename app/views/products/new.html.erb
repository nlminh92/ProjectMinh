<script>
  $(document).on('ready page:change', function() {
    $('#active_event').change(function() {
      console.log('Toggle: ' + $(this).prop('checked'))
    })
  });
  var app = angular.module("app", []);
  app.controller("product_controller", ['$scope', '$rootScope', function($scope, $rootScope) {
    $scope.test = "hehe";
    $scope.number_category = 0;
    $scope.category_form = function() {
      $scope.number_category++;
      var form = '<div class="col-md-4"><div class="col-md-9">Category ' +
        $scope.number_category +
        '</div><button class="col-md-3" id="category-' + $scope.number_category +'>X</button></div>';
      $(".category").append(form);
      console.log(form);
    }
    for(var i = 0; i < $scope.number_category; i++) {
      var id = '#category-' + i.toString();
      $(id).on('click', function() {
        
      });
    }
  }])
</script>

<div id="page-wrapper" ng-app="app">
  <div ng-controller="product_controller">
    <form class="form-horizontal form-label-left form" method="POST" action="/products" accept-charset="utf-8">
      <div class="row" style="border-bottom: 1px solid black;">
        <div class="col-md-8" style="border-right: 1px solid black;">
          <div class="col-md-6">
            <h4>ADD NEW PRODUCT</h4>
          </div>
          <div class="col-md-3">
            <h5>Product Status</h5>
          </div>
          <div class="col-md-3">
            <input id="active_event" type="checkbox" checked
              data-toggle="toggle" data-on="ACTIVE" data-off="INACTIVE" data-width="100" data-onstyle="success">
          </div>
        </div>

        <div class="col-md-4">
          <div class="col-md-6">
            <button class="btn btn-default" type="reset" name="reset">CANCEL</button>
          </div>
          <div class="col-md-6">
            <button class="btn btn-success" id="send" type="submit">CREATE</button>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4">
          <h4>IMAGE UPLOAD</h4>
        </div>
        <div class="col-md-8" style="border-left: 1px solid black; padding-left: 60px;">
          <div class="col-md-12">
            <h4>BASIC INFORMATION</h4>
          </div>
          <div class="form-group">
            <label for="style_code">Style Code:</label>
            <input type="text" class="form-control" id="style_code" name="code">
          </div>
          <div class="form-group">
            <label for="product_name">Product Name:</label>
            <input type="text" class="form-control" id="product_name" name="name_products">
          </div>
          <div class="form-group">
            <label for="gender">Gender:</label> <br/>
            <label class="checkbox-inline">
              <input type="checkbox" value="Men" name="gender[]">Men
            </label>
            <label class="checkbox-inline">
              <input type="checkbox" value="Women" name="gender[]">Women
            </label>
            <label class="checkbox-inline">
              <input type="checkbox" value="Kids" name="gender[]">Kids
            </label>
          </div>

          <div class="form-group">
            <label class="col-md-12" for="product_type">Product Type</label>
            <% @product_types.each do |product_type| %>
              <label class="col-md-6">
                <input type="radio" value=<%= product_type.name %> name="product_type"> <%= product_type.name %>
              </label>
            <% end %>
          </div>

          <div class="form-group">
            <label class="col-md-12" for="sell_type">Sell Type</label>
            <% @sell_types.each do |sell_type| %>
              <label class="col-md-6">
                <input type="radio" value=<%= sell_type.name %> name="sell_type"> <%= sell_type.name %>
              </label>
            <% end %>
          </div>
        </div>

        <div class="row" style="margin-bottom: 20px;">
          <div class="col-md-12" style="border-top: 1px solid black;">
            <h4>DESCRIPTIVE INFORMATION</h4>
          </div>
          <div class="col-md-12">
            <div class="col-md-3 ">
              <label for="supplier_sku">Supplier SKU</label>
              <input type="text" class="form-control" id="supplier_sku" name="supplier_sku">
            </div>
            <div class="col-md-3 col-md-offset-1 ">
              <label for="season">Season</label>
              <input type="text" class="form-control" id="season" name="season">
            </div>
            <div class="col-md-3 col-md-offset-1 ">
              <label for="product_fit">Product Fit</label>
              <input type="text" class="form-control" id="product_fit" name="product_fit">
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12" style="border-top: 1px solid black;">
            <h4>Product Category</h4>
          </div>
          <div class="category col-md-12">
          </div>
          <div class="col-md-12">
            <button type="button" class="btn btn-primary" style="margin-left: 10px;" ng-click="category_form()">
              + ADD CATEGORY
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
